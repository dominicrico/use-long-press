var e,n,t=require("react");function r(){return r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(this,arguments)}function o(e){var n=e.nativeEvent;return window.TouchEvent?n instanceof TouchEvent:"touches"in n}function u(e){return e.nativeEvent instanceof MouseEvent}function s(e){return e.nativeEvent instanceof PointerEvent}function c(e){return o(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:u(e)||s(e)?{x:e.pageX,y:e.pageY}:null}exports.LongPressEventReason=void 0,(e=exports.LongPressEventReason||(exports.LongPressEventReason={})).CANCELED_BY_MOVEMENT="canceled-by-movement",e.CANCELED_BY_TIMEOUT="canceled-by-timeout",exports.LongPressDetectEvents=void 0,(n=exports.LongPressDetectEvents||(exports.LongPressDetectEvents={})).ALL="all",n.POINTER="pointer",n.MOUSE="mouse",n.TOUCH="touch",exports.useLongPress=function(e,n){var i=void 0===n?{}:n,v=i.threshold,a=void 0===v?400:v,E=i.captureEvent,f=void 0!==E&&E,l=i.detect,p=void 0===l?exports.LongPressDetectEvents.ALL:l,L=i.cancelOnMovement,x=void 0!==L&&L,M=i.filterEvents,P=i.onStart,g=i.onMove,d=i.onFinish,T=i.onCancel,h=t.useRef(!1),C=t.useRef(!1),O=t.useRef(),D=t.useRef(e),R=t.useRef(null),y=t.useCallback(function(e){return function(n){if(!C.current&&(u(n)||o(n)||s(n))&&(void 0===M||M(n))){R.current=c(n),f&&n.persist();var t=void 0===e?{}:{context:e};null==P||P(n,t),C.current=!0,O.current=setTimeout(function(){D.current&&(D.current(n,t),h.current=!0)},a)}}},[f,M,P,a]),b=t.useCallback(function(e,n){return function(t){if(u(t)||o(t)||s(t)){R.current=null,f&&t.persist();var c=void 0===e?{}:{context:e};h.current?null==d||d(t,c):C.current&&(null==T||T(t,r({},c,{reason:null!=n?n:exports.LongPressEventReason.CANCELED_BY_TIMEOUT}))),h.current=!1,C.current=!1,void 0!==O.current&&clearTimeout(O.current)}}},[f,d,T]),m=t.useCallback(function(e){return function(n){if(x&&R.current){var t=c(n);if(t){var r=!0===x?25:x,o={x:Math.abs(t.x-R.current.x),y:Math.abs(t.y-R.current.y)};(o.x>r||o.y>r)&&(null==g||g(n,{context:e}),b(e,exports.LongPressEventReason.CANCELED_BY_MOVEMENT)(n))}}}},[b,x,g]);return t.useEffect(function(){return function(){void 0!==O.current&&clearTimeout(O.current)}},[]),t.useEffect(function(){D.current=e},[e]),t.useMemo(function(){return function(n){var t={onMouseDown:y(n),onMouseMove:m(n),onMouseUp:b(n),onMouseLeave:b(n)},o={onTouchStart:y(n),onTouchMove:m(n),onTouchEnd:b(n)},u={onPointerDown:y(n),onPointerMove:m(n),onPointerUp:b(n),onPointerLeave:b(n)};return null===e?{}:p===exports.LongPressDetectEvents.MOUSE?t:p===exports.LongPressDetectEvents.TOUCH?o:p===exports.LongPressDetectEvents.POINTER?u:r({},t,o,u)}},[e,b,p,m,y])};
//# sourceMappingURL=index.js.map
