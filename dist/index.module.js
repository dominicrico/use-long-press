import{useRef as n,useCallback as t,useEffect as e,useMemo as r}from"react";function o(){return o=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o.apply(this,arguments)}var u,c;function i(n){var t=n.nativeEvent;return window.TouchEvent?t instanceof TouchEvent:"touches"in t}function a(n){return n.nativeEvent instanceof MouseEvent}function v(n){return n.nativeEvent instanceof PointerEvent}function f(n){return i(n)?{x:n.touches[0].pageX,y:n.touches[0].pageY}:a(n)||v(n)?{x:n.pageX,y:n.pageY}:null}function l(l,E){var s=void 0===E?{}:E,M=s.threshold,T=void 0===M?400:M,h=s.captureEvent,p=void 0!==h&&h,d=s.detect,O=void 0===d?c.ALL:d,y=s.cancelOnMovement,C=void 0!==y&&y,m=s.filterEvents,x=s.onStart,L=s.onMove,N=s.onFinish,P=s.onCancel,U=n(!1),_=n(!1),b=n(),g=n(l),A=n(null),D=t(function(n){return function(t){if(!_.current&&(a(t)||i(t)||v(t))&&(void 0===m||m(t))){A.current=f(t),p&&t.persist();var e=void 0===n?{}:{context:n};null==x||x(t,e),_.current=!0,b.current=setTimeout(function(){g.current&&(g.current(t,e),U.current=!0)},T)}}},[p,m,x,T]),Y=t(function(n,t){return function(e){if(a(e)||i(e)||v(e)){A.current=null,p&&e.persist();var r=void 0===n?{}:{context:n};U.current?null==N||N(e,r):_.current&&(null==P||P(e,o({},r,{reason:null!=t?t:u.CANCELED_BY_TIMEOUT}))),U.current=!1,_.current=!1,void 0!==b.current&&clearTimeout(b.current)}}},[p,N,P]),w=t(function(n){return function(t){if(C&&A.current){var e=f(t);if(e){var r=!0===C?25:C,o={x:Math.abs(e.x-A.current.x),y:Math.abs(e.y-A.current.y)};(o.x>r||o.y>r)&&(null==L||L(t,{context:n}),Y(n,u.CANCELED_BY_MOVEMENT)(t))}}}},[Y,C,L]);return e(function(){return function(){void 0!==b.current&&clearTimeout(b.current)}},[]),e(function(){g.current=l},[l]),r(function(){return function(n){var t={onMouseDown:D(n),onMouseMove:w(n),onMouseUp:Y(n),onMouseLeave:Y(n)},e={onTouchStart:D(n),onTouchMove:w(n),onTouchEnd:Y(n)},r={onPointerDown:D(n),onPointerMove:w(n),onPointerUp:Y(n),onPointerLeave:Y(n)};return null===l?{}:O===c.MOUSE?t:O===c.TOUCH?e:O===c.POINTER?r:o({},t,e,r)}},[l,Y,O,w,D])}!function(n){n.CANCELED_BY_MOVEMENT="canceled-by-movement",n.CANCELED_BY_TIMEOUT="canceled-by-timeout"}(u||(u={})),function(n){n.ALL="all",n.POINTER="pointer",n.MOUSE="mouse",n.TOUCH="touch"}(c||(c={}));export{c as LongPressDetectEvents,u as LongPressEventReason,l as useLongPress};
//# sourceMappingURL=index.module.js.map
